<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="es"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Cliente.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ISO2023</a> &gt; <a href="index.source.html" class="el_package">edu.uclm.esi.iso.ISO2023.entities</a> &gt; <span class="el_source">Cliente.java</span></div><h1>Cliente.java</h1><pre class="source lang-java linenums">package edu.uclm.esi.iso.ISO2023.entities;

import org.springframework.data.mongodb.core.mapping.Document;

@Document(collection = &quot;cliente&quot;)
public class Cliente extends User {

	private String fechaNacimiento;
	private String carnet;
	private String telefono;
	private String dni;
	private String secretKey;

	public Cliente(String nombre, String apellidos, String email, String password, boolean activo, int intentos,
			String fechaNacimiento, String carnet, String telefono, String dni, String secretKey) {
<span class="fc" id="L16">		super(nombre, apellidos, email, password, activo, intentos);</span>
<span class="fc" id="L17">		this.fechaNacimiento = fechaNacimiento;</span>
<span class="fc" id="L18">		this.carnet = carnet;</span>
<span class="fc" id="L19">		this.telefono = telefono;</span>
<span class="fc" id="L20">		this.dni = dni;</span>
<span class="fc" id="L21">		this.secretKey = secretKey;</span>
<span class="fc" id="L22">	}</span>

	public String getFechaNacimiento() {
<span class="fc" id="L25">		return fechaNacimiento;</span>
	}

	public void setFechaNacimiento(String fechaNacimiento) {
<span class="nc" id="L29">		this.fechaNacimiento = fechaNacimiento;</span>

<span class="nc" id="L31">	}</span>

	public String getCarnet() {
<span class="fc" id="L34">		return carnet;</span>
	}

	public void setCarnet(String carnet) {
<span class="nc" id="L38">		this.carnet = carnet;</span>
<span class="nc" id="L39">	}</span>

	public String getTelefono() {
<span class="fc" id="L42">		return telefono;</span>
	}

	public void setTelefono(String telefono) {
<span class="nc" id="L46">		this.telefono = telefono;</span>
<span class="nc" id="L47">	}</span>

	public String getDni() {
<span class="fc" id="L50">		return dni;</span>
	}

	public void setDni(String dni) {
<span class="nc" id="L54">		this.dni = dni;</span>
<span class="nc" id="L55">	}</span>
	public String getsecretKey() {
<span class="fc" id="L57">		return secretKey;</span>
	}

	public void setsecretKey(String secretKey) {
<span class="nc" id="L61">		this.secretKey = secretKey;</span>
<span class="nc" id="L62">	}</span>


	@Override
	public String toString() {
<span class="nc" id="L67">		return &quot;Cliente [dni=&quot; + dni + &quot;, fechs nacimiento=&quot; + fechaNacimiento + &quot;, telefono=&quot; + telefono + &quot;, secretKey=&quot; + secretKey + &quot;]&quot;;</span>
	}

	// Comprobar longitud telefono
	public boolean comprobarNumero(String telefono) {
<span class="nc bnc" id="L72" title="All 2 branches missed.">		if (telefono.length() != 9)</span>
<span class="nc" id="L73">			return false;</span>

		// Evitar letras en el numero
<span class="nc bnc" id="L76" title="All 2 branches missed.">		for (int i = 0; i &lt; telefono.length(); i++)</span>
<span class="nc bnc" id="L77" title="All 2 branches missed.">			if (!Character.isDigit(telefono.charAt(i)))</span>
<span class="nc" id="L78">				return false;</span>

<span class="nc" id="L80">		return true;</span>
	}

	public boolean comprobarDni(String dni) {
<span class="nc" id="L84">		boolean valido = true;</span>
		// El DNI debe tener 9 caracteres
<span class="nc bnc" id="L86" title="All 2 branches missed.">		if (dni.length() != 9) {</span>
<span class="nc" id="L87">			valido = false;</span>
		}

		// Comprobar que los primeros 8 caracteres son dígitos
<span class="nc bnc" id="L91" title="All 2 branches missed.">		for (int i = 0; i &lt; 8; i++) {</span>
<span class="nc bnc" id="L92" title="All 2 branches missed.">			if (!Character.isDigit(dni.charAt(i))) {</span>
<span class="nc" id="L93">				valido = false;</span>
			}
		}

		// Comprobar que el último carácter es una letra
<span class="nc" id="L98">		char letra = dni.charAt(8);</span>
<span class="nc bnc" id="L99" title="All 2 branches missed.">		if (!Character.isLetter(letra))</span>
<span class="nc" id="L100">			valido = false;</span>

<span class="nc" id="L102">		return valido;</span>
	}

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>